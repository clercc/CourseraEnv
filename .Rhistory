}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[num]
}
}
else if (!(state %in% statelist)) {
stop("invalid state")
}
else if (!(outcome %in% c("heart attack", "heart failure", "pneumonia"))) {
stop("invalid outcome")
}
}
rm(ro)
rankhospital("TX", "heart failure", 4)
rankhospital("MD", "heart attack", "worst")
o
rm(list=ls())
rankhospital <- function(state, outcome, num = "best") {
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
statelist <- data[,7]
if (state %in% statelist & outcome == "heart attack") {
x <- subset(data[,c(2,11)], data[,7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1]
}
else if (num == "worst" | num == nrow(o)) {
o[nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[num]
}
}
else if (state %in% statelist & outcome == "heart failure") {
x <- subset(data[ , c(2, 17)], data[ , 7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- dt[complete.cases(dt), ]
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1]
}
else if (num == "worst" | num == nrow(o)) {
o[nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[num]
}
}
else if (state %in% statelist & outcome == "pneumonia") {
x <- subset(data[,c(2,23)], data[,7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- dt[complete.cases(dt), ]
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1]
}
else if (num == "worst" | num == nrow(o)) {
o[nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[num]
}
}
else if (!(state %in% statelist)) {
stop("invalid state")
}
else if (!(outcome %in% c("heart attack", "heart failure", "pneumonia"))) {
stop("invalid outcome")
}
}
rankhospital("MD", "heart attack", "worst")
x <- subset(data[ , c(2, 17)], data[ , 7] == "TX")
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
x <- subset(data[ , c(2, 17)], data[ , 7] == "TX")
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- dt[complete.cases(dt), ]
dt1$rank <- NA
dt1
rm(list=ls())
rankhospital <- function(state, outcome, num = "best") {
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
statelist <- data[,7]
if (state %in% statelist & outcome == "heart attack") {
x <- subset(data[,c(2,11)], data[,7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1]
}
else if (num == "worst" | num == nrow(o)) {
o[nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[num]
}
}
else if (state %in% statelist & outcome == "heart failure") {
x <- subset(data[ , c(2, 17)], data[ , 7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1]
}
else if (num == "worst" | num == nrow(o)) {
o[nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[num]
}
}
else if (state %in% statelist & outcome == "pneumonia") {
x <- subset(data[,c(2,23)], data[,7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1]
}
else if (num == "worst" | num == nrow(o)) {
o[nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[num]
}
}
else if (!(state %in% statelist)) {
stop("invalid state")
}
else if (!(outcome %in% c("heart attack", "heart failure", "pneumonia"))) {
stop("invalid outcome")
}
}
rankhospital("TX", "heart failure", 4)
rankhospital("MD", "heart attack", "worst")
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
x <- subset(data[,c(2,11)], data[,7] == "TX")
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
View(o)
o[1]
o(1)
o[,1]
o[1,]
[1,1]
o[1,1]
o <- as.character(o[1])
o
rm(list=ls())
rankhospital <- function(state, outcome, num = "best") {
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
statelist <- data[,7]
if (state %in% statelist & outcome == "heart attack") {
x <- subset(data[,c(2,11)], data[,7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1,1]
}
else if (num == "worst" | num == nrow(o)) {
o[1,nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[1,num]
}
}
else if (state %in% statelist & outcome == "heart failure") {
x <- subset(data[ , c(2, 17)], data[ , 7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1,1]
}
else if (num == "worst" | num == nrow(o)) {
o[1,nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[1,num]
}
}
else if (state %in% statelist & outcome == "pneumonia") {
x <- subset(data[,c(2,23)], data[,7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1,1]
}
else if (num == "worst" | num == nrow(o)) {
o[,1nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[1,num]
}
}
else if (!(state %in% statelist)) {
stop("invalid state")
}
else if (!(outcome %in% c("heart attack", "heart failure", "pneumonia"))) {
stop("invalid outcome")
}
}
rankhospital <- function(state, outcome, num = "best") {
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
statelist <- data[,7]
if (state %in% statelist & outcome == "heart attack") {
x <- subset(data[,c(2,11)], data[,7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1,1]
}
else if (num == "worst" | num == nrow(o)) {
o[1,nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[1,num]
}
}
else if (state %in% statelist & outcome == "heart failure") {
x <- subset(data[ , c(2, 17)], data[ , 7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
if (num == "best" | num == 1) {
o[1,1]
}
else if (num == "worst" | num == nrow(o)) {
o[1,nrow(o)]
}
else if (num < 1 | num > nrow(o)) {
print("NA")
}
else {
o[1,num]
}
}
else if (state %in% statelist & outcome == "pneumonia") {
x <- subset(data[,c(2,23)], data[,7] == state)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
source('C:/Users/Christian/Github/datasciencecoursera/rankhospital.R', echo=TRUE)
rankhospital("TX", "heart failure", 4)
rankhospital("MD", "heart attack", "worst")
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
x <- subset(data[,c(2,11)], data[,7] == "TX")
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
o[1,1]
o[1,nrow(o)]
o[1,NROW(o)]
o[1,length(o)]
class(dt$name)
class(dt[,1])
i <- sapply(dt1, is.factor)
i
bob[i] <- lapply(bob[i], as.character)
dt1[i] <- lapply(dt1[i], as.character)
i
dt1
class(dt1[,1])
i <- sapply(dt1, is.factor)
dt1[i] <- lapply(dt1[i], as.character)
rm(list=ls())
source('C:/Users/Christian/Github/datasciencecoursera/rankhospital.R', echo=TRUE)
rankhospital("TX", "heart failure", 4)
source('C:/Users/Christian/Github/datasciencecoursera/rankhospital.R', echo=TRUE)
rankhospital("TX", "heart failure", 4)
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
x <- subset(data[,c(2,11)], data[,7] == "TX")
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
i <- sapply(dt1, is.factor)
dt1[i] <- lapply(dt1[i], as.character)
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
o[nrow[o]]
o[nrow[o$V1]]
o[1,v1
]
o[1,o$v1]
subset(o,v1)
subset(o,$v1)
subset(o,o$v1)
subset(o,V1)
subset(o,(1,V1)
subset(o,(1,V1))
subset(o,o[1,V1])
which(o$rank == 1)
dt1 <- as.matrix.data.frame(dt[complete.cases(dt), ])
dt1$rank <- NA
dt1 <- as.data.frame(dt[complete.cases(dt), ])
dt1[i] <- lapply(dt1[i], as.character)
i <- sapply(dt1, is.factor)
dt1[i] <- lapply(dt1[i], as.character)
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
o1 <- as.matrix(o)
o1[1]
o1[nrow(o1)]
rm(list=ls())
source('C:/Users/Christian/Github/datasciencecoursera/rankhospital.R', echo=TRUE)
rankhospital("TX", "heart failure", 4)
which(01$rank == 4)
which(01[,3] == 4)
which(o1[,3] == 4)
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
x <- subset(data[ , c(2, 17)], data[ , 7] == "TX")
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
i <- sapply(dt1, is.factor)
dt1[i] <- lapply(dt1[i], as.character)
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "min")
o1 <- as.matrix(o)
which(o1[,3] == 4)
which(grepl(4, o1[,3]))
o1[,3]
View(o1)
?rank
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
i <- sapply(dt1, is.factor)
dt1[i] <- lapply(dt1[i], as.character)
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "max")
o1 <- as.matrix(o)
View(o1)
dt <- cbind(x[ , 1],as.numeric(x[ , 2]))
dt1 <- as.data.frame(dt[complete.cases(dt), ])
i <- sapply(dt1, is.factor)
dt1[i] <- lapply(dt1[i], as.character)
dt1$rank <- NA
o <- dt1[order(dt1[,2], dt1[,1]),]
o$rank <- rank(o[,2], ties.method = "dense")
o1 <- as.matrix(o)
View(o1)
rm(list=ls())
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
death <- if (outcome == "heart attack") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack"
} else if (outcome == "heart failure") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure"
} else if (outcome == 'pneumonia') {
"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia"
} else {
stop("invalid outcome")
}
statelist <- data[data$State == state, c("Hospital.Name", death]
statelist <- data[data$State == state, c("Hospital.Name", death)]
death <- if (outcome == "heart attack") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack"
} else if (outcome == "heart failure") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure"
} else if (outcome == 'pneumonia') {
"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia"
} else {
stop("invalid outcome")
}
statelist <- data[data$State == state, c("Hospital.Name", death)]
outcome <- "heart attack"
death <- if (outcome == "heart attack") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack"
} else if (outcome == "heart failure") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure"
} else if (outcome == 'pneumonia') {
"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia"
} else {
stop("invalid outcome")
}
statelist <- data[data$State == state, c("Hospital.Name", death)]
state <- "TX"
death <- if (outcome == "heart attack") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack"
} else if (outcome == "heart failure") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure"
} else if (outcome == 'pneumonia') {
"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia"
} else {
stop("invalid outcome")
}
statelist <- data[data$State == state, c("Hospital.Name", death)]
statelist
rm(list=ls())
source('C:/Users/Christian/Github/datasciencecoursera/rankhospital.R', echo=TRUE)
source('C:/Users/Christian/Github/datasciencecoursera/rankhospital.R', echo=TRUE)
rankhospital("TX", "heart failure", 4)
death <- if (outcome == "heart attack") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack"
} else if (outcome == "heart failure") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure"
} else if (outcome == 'pneumonia') {
"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia"
} else {
stop("invalid outcome")
}
statelist <- data[data$State == state, c("Hospital.Name", death)]
if(nrow(statelist) == 0) {
stop("invalid state")
}
statelist[,2] <- as.numeric(statelist[,2])
ordered_statelist <- order(statelist[death], statelist$Hospital.Name, na.last=NA)
state <- "TX"
outcome <- "heart failure"
num <- 4
death <- if (outcome == "heart attack") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack"
} else if (outcome == "heart failure") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure"
} else if (outcome == 'pneumonia') {
"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia"
} else {
stop("invalid outcome")
}
statelist <- data[data$State == state, c("Hospital.Name", death)]
if(nrow(statelist) == 0) {
stop("invalid state")
}
statelist[,2] <- as.numeric(statelist[,2])
ordered_statelist <- order(statelist[death], statelist$Hospital.Name, na.last=NA)
data <- read.csv("C:/users/christian/github/datasciencecoursera/outcome-of-care-measures.csv", colClasses = "character")
death <- if (outcome == "heart attack") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack"
} else if (outcome == "heart failure") {
"Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure"
} else if (outcome == 'pneumonia') {
"Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia"
} else {
stop("invalid outcome")
}
statelist <- data[data$State == state, c("Hospital.Name", death)]
if(nrow(statelist) == 0) {
stop("invalid state")
}
statelist[,2] <- as.numeric(statelist[,2])
ordered_statelist <- order(statelist[death], statelist$Hospital.Name, na.last=NA)
View(statelist)
view(ordered_statelist)
ordered_statelist
